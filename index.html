<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<title>ë”± í•„ìš”í•œ ì‚¬ì´íŠ¸ ëª¨ìŒ â€” í•™ìƒìš© ë·°ì–´</title>
<meta name="description" content="í•™ìƒë“¤ì„ ìœ„í•œ ì˜¨ë¼ì¸ ê°•ì˜, ê³¼ì œ ìë£Œ, ë‰´ìŠ¤ ë“± í•„ìˆ˜ ì‚¬ì´íŠ¸ ëª¨ìŒ">
<meta name="keywords" content="ì˜¨ë¼ì¸ê°•ì˜, ê³¼ì œ, ë‰´ìŠ¤, ì½”ë”©, í•™ìŠµ, í•™ìƒ">
<meta name="robots" content="index, follow">

<style>
/* ===== ê¸°ë³¸ ìŠ¤íƒ€ì¼ ===== */
body {font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;margin:0;padding:20px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;color:#333;transition:all 0.3s ease;}
body.dark{background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%);color:#fff;}
.container{max-width:1200px;margin:0 auto;background:rgba(255,255,255,0.95);border-radius:20px;backdrop-filter:blur(10px);box-shadow:0 20px 40px rgba(0,0,0,0.1);overflow:hidden;transition:all 0.3s ease;}
body.dark .container{background:rgba(26,26,46,0.95);box-shadow:0 20px 40px rgba(0,0,0,0.3);}

/* header */
.header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:30px;text-align:center;position:relative;overflow:hidden;}
.header h1{margin:0 0 8px 0;font-size:2.4em;font-weight:700;}
.header p{margin:0;opacity:0.95;}

/* top controls */
.top-controls{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:18px 24px;background:rgba(248,249,250,0.85);border-bottom:1px solid #e9ecef;flex-wrap:wrap;transition:all 0.3s ease;}
body.dark .top-controls{background:rgba(40,40,60,0.6);border-bottom-color:#444;}
.search-box{display:flex;gap:8px;align-items:center;flex:1;min-width:220px;}
.search-box input{width:100%;padding:12px 14px;border-radius:10px;border:2px solid #e9ecef;box-sizing:border-box;font-size:14px;transition:all 0.3s ease;}
.search-box input:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 4px rgba(102,126,234,0.08);}
.filter-tabs{display:flex;gap:8px;align-items:center;flex-wrap:wrap;}
.tab-btn{padding:10px 14px;border-radius:18px;border:2px solid #e9ecef;background:white;cursor:pointer;font-weight:600;transition:all 0.3s ease;}
.tab-btn.active{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border-color:#667eea;box-shadow:0 6px 20px rgba(102,126,234,0.18);}
.tab-btn:hover{transform:scale(1.05);}
.dark-toggle{padding:10px 14px;border-radius:12px;background:linear-gradient(135deg,#343a40 0%,#212529 100%);color:white;border:none;cursor:pointer;transition:all 0.3s ease;}
.view-all-btn{padding:10px 18px;border-radius:10px;border:2px solid #e9ecef;background:linear-gradient(135deg,#764ba2 0%,#667eea 100%);color:white;cursor:pointer;font-weight:700;margin-left:12px;transition:all 0.3s ease;}
.view-all-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(118,75,162,0.3);}

/* filters */
.filters{padding:18px 24px;display:flex;gap:12px;align-items:center;flex-wrap:wrap;background:rgba(248,249,250,0.55);border-bottom:1px solid #e9ecef;transition:all 0.3s ease;}
body.dark .filters{background:rgba(40,40,60,0.45);border-bottom-color:#444;}
.filter-group{display:flex;flex-direction:column;gap:8px;min-width:120px;}
.filter-buttons{display:flex;gap:8px;flex-wrap:wrap;}
.filter-btn{padding:8px 12px;border-radius:16px;border:2px solid #e9ecef;background:white;cursor:pointer;font-weight:600;transition:all 0.3s ease;}
.filter-btn.active{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border-color:#667eea;}
.filter-btn:hover{transform:scale(1.05);}

/* stats */
.stats{display:flex;gap:18px;align-items:center;padding:12px 24px;color:#6c757d;background:rgba(248,249,250,0.28);transition:all 0.3s ease;}
body.dark .stats{color:#adb5bd;background:rgba(30,30,40,0.28);}
.stats-item{display:flex;gap:8px;align-items:center;}

/* categories */
.categories-container{padding:24px;display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:20px;}
.category-section{background:white;border-radius:14px;overflow:hidden;border:1px solid #e9ecef;transition:all .25s ease;box-shadow:0 6px 20px rgba(0,0,0,0.06);}
body.dark .category-section{background:#2d2d2d;border-color:#444;box-shadow:0 8px 30px rgba(0,0,0,0.28);}
.category-header{padding:16px 20px;font-weight:700;display:flex;justify-content:space-between;align-items:center;gap:12px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;}
.category-content{padding:18px;}

/* link-card + tips */
.link-card{border-radius:16px;padding:20px;margin:14px 0;background:linear-gradient(135deg,#ffffff 0%,#f8f9fa 100%);border:1px solid #e9ecef;position:relative;transition:transform 0.25s ease,box-shadow 0.25s ease,border-color 0.25s ease;}
body.dark .link-card{background:linear-gradient(135deg,#2b2b3c 0%,#3a3a50 100%);border-color:#555;color:#f1f1f1;}
.link-card:hover{transform:translateY(-5px);box-shadow:0 15px 30px rgba(102,126,234,0.15);border-color:#667eea;}
.link-card a{text-decoration:none;font-weight:700;display:inline-block;color:#2c3e50;font-size:18px;}
body.dark .link-card a{color:#f8f9fa;}
.link-card p{margin:8px 0 0;color:#6c757d;}
body.dark .link-card p{color:#adb5bd;}
.tag{padding:4px 10px;border-radius:12px;font-size:12px;font-weight:700;margin-right:6px;display:inline-block;}
.age-tag{background:linear-gradient(135deg,#d4edda 0%,#c3e6cb 100%);color:#155724;}
.category-tag{background:linear-gradient(135deg,#fff3cd 0%,#ffeaa7 100%);color:#856404;}
body.dark .age-tag{background:linear-gradient(135deg,#28a745 0%,#20c997 100%);color:white;}
body.dark .category-tag{background:linear-gradient(135deg,#ffc107 0%,#fd7e14 100%);color:#212529;}

/* more/collapse */
.more-btn-container{text-align:center;margin-top:12px;}
.more-btn,.collapse-btn{padding:10px 18px;border-radius:22px;border:2px solid #dee2e6;background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%);cursor:pointer;font-weight:700;transition:all 0.3s ease;}
.more-btn:hover,.collapse-btn:hover{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border-color:#667eea;transform:scale(1.05);}
.no-results{padding:40px;text-align:center;font-style:italic;color:#6c757d;}
@media(max-width:768px){.categories-container{grid-template-columns:1fr;padding:16px;}.header h1{font-size:1.8em;}}
.dragging{opacity:0.6;}
</style>
</head>
<body>
<div id="loading" style="position:fixed;top:0;left:0;width:100%;height:100%;background:#fff;display:flex;align-items:center;justify-content:center;z-index:10000;">ë¡œë”©ì¤‘...</div>

<div class="container">
  <div class="header">
    <h1>ğŸŒŸ ë”±í•„ëª¨ </h1>
    <p>í•™ìƒë“¤ì—ê²Œ í•„ìš”í•œ ì‚¬ì´íŠ¸ë§Œ ëª¨ì•˜ìŠµë‹ˆë‹¤. ê°œë°œ ì¤‘ì´ë©° ê³„ì† ì—…ë°ì´íŠ¸ ë©ë‹ˆë‹¤.</p>
  </div>

  <div class="top-controls">
    <div class="search-box"><input id="searchInput" placeholder="ì‚¬ì´íŠ¸ ì´ë¦„ ë˜ëŠ” ì„¤ëª… ê²€ìƒ‰..." /></div>
    <div class="filter-tabs" id="filterTabs"></div>
    <button class="dark-toggle" id="darkToggle">ğŸŒ™ ë‹¤í¬ ëª¨ë“œ</button>
  </div>

  <div class="filters">
    <div class="filter-group">
      <label>ğŸ¯ ì—°ë ¹ëŒ€</label>
      <div class="filter-buttons" id="ageFilter">
        <button class="filter-btn active" data-age="all">ì „ì²´</button>
        <button class="filter-btn" data-age="elem">ì´ˆë“±</button>
        <button class="filter-btn" data-age="mid">ì¤‘ë“±</button>
        <button class="filter-btn" data-age="high">ê³ ë“±</button>
        <button class="filter-btn" data-age="adult">ì„±ì¸</button>
      </div>
    </div>
    <div class="filter-group">
      <label>ğŸ“š ê³¼ëª©</label>
      <select id="subjectFilter" style="padding:10px;border-radius:10px;border:2px solid #e9ecef;">
        <option value="all">ì „ì²´ ê³¼ëª©</option>
        <option value="korean">êµ­ì–´</option>
        <option value="math">ìˆ˜í•™</option>
        <option value="english">ì˜ì–´</option>
        <option value="science">ê³¼í•™</option>
        <option value="social">ì‚¬íšŒ</option>
        <option value="coding">ì½”ë”©</option>
        <option value="general">ì¢…í•©</option>
        <option value="exam">ì‹œí—˜ëŒ€ë¹„</option>
        <option value="career">ì§„ë¡œ</option>
      </select>
    </div>
    <div style="margin-left:auto;"><button onclick="resetFilters()" style="padding:10px 14px;border-radius:10px;border:none;background:#6c757d;color:white;cursor:pointer;">ğŸ”„ í•„í„° ì´ˆê¸°í™”</button></div>
  </div>

  <div class="stats" id="statsBar">
    <div class="stats-item">ğŸ“Š ì´ <strong id="totalCount">0</strong>ê°œ ì‚¬ì´íŠ¸</div>
    <div class="stats-item">ğŸ” ê²€ìƒ‰ ê²°ê³¼: <strong id="filteredCount">0</strong>ê°œ</div>
    <button class="view-all-btn" id="viewAllBtn" style="margin-left:auto;">ğŸ“– ì „ì²´ ì‚¬ì´íŠ¸ ë³´ê¸°</button>
  </div>

  <div class="categories-container" id="categoriesContainer"></div>
  <div id="noResults" class="no-results" style="display:none;">
    <h3>ğŸ” ì¡°ê±´ì— ë§ëŠ” ì‚¬ì´íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
    <p>í•„í„°ë‚˜ ê²€ìƒ‰ì–´ë¥¼ ë°”ê¿”ë³´ì„¸ìš”.</p>
  </div>
</div>

<footer style="background:#333;color:#fff;text-align:center;padding:15px;margin-top:20px;font-size:14px;">
  Â© 2025 ë”±í•„ëª¨ | ê°œì¸ ì‚¬ìš© ëª©ì 
  <br>
  ğŸ’¬ ë¬¸ì˜/ë²„ê·¸ ì‹ ê³ : <a href="https://discord.gg/ì—¬ê¸°ì—_ì´ˆëŒ€ì½”ë“œ" target="_blank" style="color:#4da3ff;font-weight:bold;text-decoration:none;">ë””ìŠ¤ì½”ë“œ ì°¸ì—¬</a>
</footer>

<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
<script>
// ===== ë°ì´í„° & ì„¤ì • =====
const ageNames={elem:"ì´ˆë“±í•™ìƒ",mid:"ì¤‘í•™ìƒ",high:"ê³ ë“±í•™ìƒ",adult:"ì„±ì¸"};
const defaultCategories={
  learning:{name:"ì˜¨ë¼ì¸ê°•ì˜",icon:"ğŸ’»"},
  info:{name:"ì°¸ê³ ìë£Œ",icon:"ğŸ“š"},
  exam:{name:"ì‹œí—˜/ê¸°ì¶œ",icon:"ğŸ“"},
  coding:{name:"ì½”ë”©/IT",icon:"ğŸ’»"},
  news:{name:"ë‰´ìŠ¤/ì‹œì‚¬",icon:"ğŸ“°"},
  gpt:{name:"GPT í™œìš©",icon:"ğŸ¤–"},
  assignment:{name:"ê³¼ì œ/ë¦¬í¬íŠ¸",icon:"ğŸ“„"},
  lifestyle:{name:"ìƒí™œ/ì§„ë¡œ",icon:"ğŸ "}
};

const initialSites = [
  // ì˜¨ë¼ì¸ê°•ì˜
  {name: "EBS ì´ˆë“±", url: "https://www.ebs.co.kr/course/home?courseType=ELMT", desc: "ì´ˆë“± ì „ ê³¼ëª© ì˜¨ë¼ì¸ ê°•ì˜", category: "learning", ages: ["elem"], subjects: ["korean","math","science","social"]},
  {name: "EBS ì¤‘ë“±", url: "https://www.ebs.co.kr/course/home?courseType=MID", desc: "ì¤‘ë“± ì „ ê³¼ëª© ì˜¨ë¼ì¸ ê°•ì˜", category: "learning", ages: ["mid"], subjects: ["korean","math","science","social"]},
  {name: "EBS ê³ ë“±", url: "https://www.ebs.co.kr/course/home?courseType=HIGH", desc: "ê³ ë“± ì „ ê³¼ëª© ì˜¨ë¼ì¸ ê°•ì˜", category: "learning", ages: ["high"], subjects: ["korean","math","science","social"]},
  {name: "Khan Academy", url: "https://ko.khanacademy.org/", desc: "ìˆ˜í•™, ê³¼í•™ ë¬´ë£Œ ê°•ì˜", category: "learning", ages: ["elem","mid","high","adult"], subjects: ["math","science"]},
  {name: "Code.org", url: "https://code.org", desc: "ì½”ë”© ê¸°ì´ˆ í•™ìŠµ ì‚¬ì´íŠ¸", category: "learning", ages: ["elem","mid","high"], subjects: ["coding"]},

  // ì°¸ê³ ìë£Œ
  {name: "ìœ„í‚¤ë°±ê³¼", url: "https://ko.wikipedia.org/", desc: "ììœ  ë°±ê³¼ì‚¬ì „", category: "info", ages: ["mid","high","adult"], subjects: ["general"]},
  {name: "ë‚˜ë¬´ìœ„í‚¤", url: "https://namu.wiki/", desc: "ë‹¤ì–‘í•œ ì£¼ì œì˜ í•œêµ­ì–´ ìœ„í‚¤", category: "info", ages: ["mid","high","adult"], subjects: ["general"]},
  {name: "êµ­ë¦½ì¤‘ì•™ê³¼í•™ê´€", url: "https://www.science.go.kr/", desc: "ê³¼í•™ êµìœ¡ ìë£Œ ë° ì²´í—˜ ì •ë³´", category: "info", ages: ["elem","mid","high"], subjects: ["science"]},
  {name: "RISS", url: "http://www.riss.kr", desc: "ë…¼ë¬¸ ë° í•™ìˆ  ìë£Œ ê²€ìƒ‰", category: "info", ages: ["high","adult"], subjects: ["general"]},
  {name: "ë„¤ì´ë²„ ì§€ì‹ë°±ê³¼", url: "https://terms.naver.com/", desc: "í•œêµ­ì–´ ì°¸ê³ ìë£Œ ì œê³µ", category: "info", ages: ["mid","high"], subjects: ["general"]},

  // ì‹œí—˜/ê¸°ì¶œ
  {name: "ìˆ˜ëŠ¥ ëª¨ì˜ê³ ì‚¬", url: "https://www.suneung.kr/", desc: "ìˆ˜ëŠ¥ ê¸°ì¶œ ë¬¸ì œ ë° ëª¨ì˜ê³ ì‚¬ ì œê³µ", category: "exam", ages: ["high"], subjects: ["exam"]},
  {name: "í•œêµ­ì‚¬ëŠ¥ë ¥ê²€ì •ì‹œí—˜", url: "https://www.historyexam.go.kr/", desc: "í•œêµ­ì‚¬ ì‹œí—˜ ëŒ€ë¹„ ìë£Œ", category: "exam", ages: ["mid","high"], subjects: ["history"]},
  {name: "í† ìµ ê³µì‹ ì‚¬ì´íŠ¸", url: "https://www.toeic.or.kr/", desc: "í† ìµ ì‹œí—˜ ì •ë³´ ë° ìë£Œ", category: "exam", ages: ["high","adult"], subjects: ["english"]},
  {name: "ì»´í“¨í„° í™œìš©ëŠ¥ë ¥ ê¸°ì¶œ", url: "https://www.q-net.or.kr/", desc: "ì •ë³´ ì²˜ë¦¬ ë° ì»´í“¨í„° í™œìš©ëŠ¥ë ¥ ì‹œí—˜ ê¸°ì¶œ", category: "exam", ages: ["high","adult"], subjects: ["tech"]},
  {name: "SAT Practice", url: "https://collegereadiness.collegeboard.org/sat/practice", desc: "SAT ì‹œí—˜ ì—°ìŠµ ë¬¸ì œ ì œê³µ", category: "exam", ages: ["high","adult"], subjects: ["math","english"]},

  // ì½”ë”©/IT
  {name: "í”„ë¡œê·¸ë˜ë¨¸ìŠ¤", url: "https://programmers.co.kr/", desc: "ì½”ë”© ë¬¸ì œ ë° ì•Œê³ ë¦¬ì¦˜ í•™ìŠµ", category: "coding", ages: ["mid","high","adult"], subjects: ["coding"]},
  {name: "ë°±ì¤€ ì˜¨ë¼ì¸ ì €ì§€", url: "https://www.acmicpc.net/", desc: "ì½”ë”© ì—°ìŠµ ë° ë¬¸ì œ í’€ì´ ì‚¬ì´íŠ¸", category: "coding", ages: ["mid","high","adult"], subjects: ["coding"]},
  {name: "Codecademy", url: "https://www.codecademy.com/", desc: "í”„ë¡œê·¸ë˜ë° ê¸°ì´ˆ í•™ìŠµ ì‚¬ì´íŠ¸", category: "coding", ages: ["mid","high","adult"], subjects: ["coding"]},
  {name: "Codewars", url: "https://www.codewars.com/", desc: "í”„ë¡œê·¸ë˜ë° ì‹¤ë ¥ í–¥ìƒìš© ë¬¸ì œ ì‚¬ì´íŠ¸", category: "coding", ages: ["high","adult"], subjects: ["coding"]},
  {name: "LeetCode", url: "https://leetcode.com/", desc: "ì•Œê³ ë¦¬ì¦˜ ë° ì½”ë”© í…ŒìŠ¤íŠ¸ ëŒ€ë¹„ ì‚¬ì´íŠ¸", category: "coding", ages: ["high","adult"], subjects: ["coding"]},

  // ë‰´ìŠ¤/ì‹œì‚¬
  {name: "EBS ë‰´ìŠ¤", url: "https://news.ebs.co.kr/", desc: "êµìœ¡ ì¤‘ì‹¬ ë‰´ìŠ¤ ì œê³µ", category: "news", ages: ["mid","high"], subjects: ["general"]},
  {name: "BBC News í•œêµ­ì–´", url: "https://www.bbc.com/korean", desc: "ì„¸ê³„ ë‰´ìŠ¤ í•œêµ­ì–´ ì œê³µ", category: "news", ages: ["mid","high","adult"], subjects: ["general"]},
  {name: "ì¡°ì„ ì¼ë³´", url: "https://www.chosun.com/", desc: "êµ­ë‚´ ë‰´ìŠ¤ ë° ì‹œì‚¬", category: "news", ages: ["mid","high","adult"], subjects: ["general"]},
  {name: "ì¤‘ì•™ì¼ë³´", url: "https://www.joongang.co.kr/", desc: "êµ­ë‚´ ë‰´ìŠ¤ ì œê³µ", category: "news", ages: ["mid","high","adult"], subjects: ["general"]},
  {name: "ì—°í•©ë‰´ìŠ¤", url: "https://www.yna.co.kr/", desc: "êµ­ë‚´ì™¸ ë‰´ìŠ¤ ì œê³µ", category: "news", ages: ["mid","high","adult"], subjects: ["general"]},

  // GPT í™œìš©
  {name: "ChatGPT", url: "https://chat.openai.com/", desc: "AI ëŒ€í™” ë° í•™ìŠµ ì§€ì›", category: "gpt", ages: ["mid","high","adult"], subjects: ["general"]},
  {name: "Claude", url: "https://www.anthropic.com/claude", desc: "AI ê¸°ë°˜ í•™ìŠµ ë° ìƒë‹´ ì§€ì›", category: "gpt", ages: ["high","adult"], subjects: ["general"]},
  {name: "Bard", url: "https://bard.google.com/", desc: "AI í•™ìŠµ ë„ìš°ë¯¸", category: "gpt", ages: ["high","adult"], subjects: ["general"]},
  {name: "Gemini", url: "https://gemini.com/", desc: "AI í•™ìŠµ ì§€ì› í”Œë«í¼", category: "gpt", ages: ["high","adult"], subjects: ["general"]},
  {name: "Perplexity AI", url: "https://www.perplexity.ai/", desc: "AI ì§ˆë¬¸ ë° ì •ë³´ ê²€ìƒ‰", category: "gpt", ages: ["high","adult"], subjects: ["general"]},

  // ê³¼ì œ/ë¦¬í¬íŠ¸
  {name: "Google Scholar", url: "https://scholar.google.com/", desc: "ë…¼ë¬¸ ê²€ìƒ‰ ë° í•™ìˆ  ìë£Œ", category: "assignment", ages: ["high","adult"], subjects: ["general"]},
  {name: "DBpia", url: "https://www.dbpia.co.kr/", desc: "êµ­ë‚´ í•™ìˆ  ë…¼ë¬¸ ì œê³µ", category: "assignment", ages: ["high","adult"], subjects: ["general"]},
  {name: "KISS", url: "https://kiss.kstudy.com/", desc: "êµ­ë‚´ í•™ìˆ ì§€ ë° ë…¼ë¬¸ ê²€ìƒ‰", category: "assignment", ages: ["high","adult"], subjects: ["general"]},
  {name: "PubMed", url: "https://pubmed.ncbi.nlm.nih.gov/", desc: "ì˜í•™/ê³¼í•™ ë…¼ë¬¸ ê²€ìƒ‰", category: "assignment", ages: ["high","adult"], subjects: ["science"]},
  {name: "Zotero", url: "https://www.zotero.org/", desc: "ì°¸ê³ ë¬¸í—Œ ê´€ë¦¬ ë„êµ¬", category: "assignment", ages: ["high","adult"], subjects: ["general"]},

  // ìƒí™œ/ì§„ë¡œ
  {name: "ì•Œë°”ëª¬", url: "https://www.albamon.com/", desc: "í•™ìƒ ì•„ë¥´ë°”ì´íŠ¸ ì •ë³´", category: "lifestyle", ages: ["high","adult"], subjects: ["career"]},
  {name: "ì¡ì½”ë¦¬ì•„", url: "https://www.jobkorea.co.kr/", desc: "ì·¨ì—…/ì§„ë¡œ ì •ë³´", category: "lifestyle", ages: ["high","adult"], subjects: ["career"]},
  {name: "EBS ì§„ë¡œ", url: "https://www.ebs.co.kr/career/", desc: "í•™ìƒ ì§„ë¡œ êµìœ¡ ìë£Œ", category: "lifestyle", ages: ["mid","high"], subjects: ["career"]},
  {name: "ëŒ€í•™ ì…ì‹œ í¬í„¸", url: "https://www.adiga.kr/", desc: "ëŒ€í•™ ì…ì‹œ ì •ë³´ ì œê³µ", category: "lifestyle", ages: ["high"], subjects: ["career"]},
  {name: "ë„¤ì´ë²„", url: "https://www.naver.com/", desc: "í¬í„¸, ë‰´ìŠ¤, ê²€ìƒ‰ ë“± ì¢…í•© ì •ë³´", category: "lifestyle", ages: ["mid","high","adult"], subjects: ["general"]}
];
let sites=[...initialSites];
let currentAgeFilter="all",currentCategoryFilter="all",currentSubjectFilter="all",currentSearchQuery="";
let expandedCategories={}; const DEFAULT_DISPLAY_LIMIT=5;

// ===== ìœ í‹¸ + ë Œë”ë§ =====
function getAllCategories(){return {...defaultCategories};}
function getCategoryName(key){const c=getAllCategories()[key];return c?c.name:key;}
function updateStats(){document.getElementById("totalCount").textContent=sites.length;document.getElementById("filteredCount").textContent=getFilteredSites().length;}
function getFilteredSites(){const q=currentSearchQuery.trim().toLowerCase();return sites.filter(s=>{if(currentAgeFilter!=="all"&&!s.ages.includes(currentAgeFilter))return false;if(currentCategoryFilter!=="all"&&s.category!==currentCategoryFilter)return false;if(currentSubjectFilter!=="all"&&!s.subjects.includes(currentSubjectFilter))return false;if(q){const hay=(s.name+" "+(s.desc||"")).toLowerCase();if(!hay.includes(q))return false;}return true;});}
function escapeHtml(str){return String(str).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");}
function createCategorySection(categoryKey){const allCategories=getAllCategories();const info=allCategories[categoryKey];if(!info)return null;const section=document.createElement("div");section.className="category-section";section.id=`${categoryKey}-section`;section.innerHTML=`<div class="category-header"><div style="display:flex;align-items:center;gap:10px;"><span style="font-size:20px;">${info.icon}</span><div><div style="font-weight:800">${info.name}</div></div></div><div class="category-count" id="${categoryKey}-count">0</div></div><div class="category-content" id="${categoryKey}-content"></div>`;return section;}
function createSiteCard(site){const card=document.createElement("div");card.className="link-card";const ageTags=site.ages.map(a=>`<span class="tag age-tag">${ageNames[a]}</span>`).join(" ");const categoryTag=`<span class="tag category-tag">${getCategoryName(site.category)}</span>`;card.innerHTML=`<a href="${site.url}" target="_blank" rel="noopener">${escapeHtml(site.name)}</a><div style="margin-top:10px;">${categoryTag} ${ageTags}</div><p>${escapeHtml(site.desc||'ì„¤ëª…ì´ ì—†ìŠµë‹ˆë‹¤.')}</p><p style="font-size:12px;color:#888;">ğŸ’¡ í™œìš©íŒ: ${site.tips||'ê¸°ë³¸ ì‚¬ìš©ë²•'}</p>`;return card;}
function renderCategorySections(){const container=document.getElementById("categoriesContainer");container.innerHTML="";Object.keys(getAllCategories()).forEach(k=>{const sec=createCategorySection(k);if(sec)container.appendChild(sec);});}
function renderSites(){const filtered=getFilteredSites();const hasResults=filtered.length>0;Object.keys(getAllCategories()).forEach(category=>{const content=document.getElementById(`${category}-content`);const section=document.getElementById(`${category}-section`);const countEl=document.getElementById(`${category}-count`);if(!content||!section)return;const sitesInCategory=filtered.filter(s=>s.category===category);content.innerHTML="";if(countEl)countEl.textContent=sitesInCategory.length;if(sitesInCategory.length>0){section.style.display="block";const limit=DEFAULT_DISPLAY_LIMIT;const isExpanded=expandedCategories[category];const toShow=isExpanded?sitesInCategory:sitesInCategory.slice(0,limit);const remaining=Math.max(0,sitesInCategory.length-limit);toShow.forEach(s=>content.appendChild(createSiteCard(s)));if(sitesInCategory.length>limit){const btnContainer=document.createElement("div");btnContainer.className="more-btn-container";btnContainer.innerHTML=isExpanded?`<button class="collapse-btn" onclick="collapseSites('${category}')">ì ‘ê¸° â†‘</button>`:`<button class="more-btn" onclick="expandSites('${category}')">ë”ë³´ê¸° (${remaining}ê°œ ë” ìˆìŒ) â†“</button>`;content.appendChild(btnContainer);}}else{section.style.display=(currentCategoryFilter==="all"||currentCategoryFilter===category)?"block":"none";if(section.style.display==="block")content.innerHTML="<p style='color:#666;text-align:center;padding:20px;'>í•´ë‹¹ ì¡°ê±´ì˜ ì‚¬ì´íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>";}}document.getElementById("noResults").style.display=hasResults?"none":"block";updateStats();}
function expandSites(category){expandedCategories[category]=true;renderSites();}
function collapseSites(category){expandedCategories[category]=false;renderSites();}

// í•„í„°/íƒ­/ê²€ìƒ‰
function buildCategoryTabs(){const tabs=document.getElementById("filterTabs");tabs.innerHTML="";const allCats=getAllCategories();const keys=Object.keys(allCats);const allBtn=document.createElement("button");allBtn.className="tab-btn active";allBtn.dataset.cat="all";allBtn.textContent="ì „ì²´";allBtn.addEventListener("click",e=>{document.querySelectorAll("#filterTabs .tab-btn").forEach(b=>b.classList.remove("active"));e.currentTarget.classList.add("active");currentCategoryFilter="all";expandedCategories={};renderSites();});tabs.appendChild(allBtn);keys.forEach(k=>{const btn=document.createElement("button");btn.className="tab-btn";btn.dataset.cat=k;btn.textContent=`${allCats[k].icon} ${allCats[k].name}`;btn.addEventListener("click",e=>{document.querySelectorAll("#filterTabs .tab-btn").forEach(b=>b.classList.remove("active"));e.currentTarget.classList.add("active");currentCategoryFilter=e.currentTarget.dataset.cat;expandedCategories={};renderSites();});tabs.appendChild(btn);});}
function setupFilters(){document.querySelectorAll("#ageFilter .filter-btn").forEach(btn=>{btn.addEventListener("click",e=>{document.querySelectorAll("#ageFilter .filter-btn").forEach(b=>b.classList.remove("active"));e.currentTarget.classList.add("active");currentAgeFilter=e.currentTarget.dataset.age;renderSites();});});document.getElementById("subjectFilter").addEventListener("change",e=>{currentSubjectFilter=e.target.value;renderSites();});document.getElementById("searchInput").addEventListener("input",e=>{currentSearchQuery=e.target.value;renderSites();});document.getElementById("darkToggle").addEventListener("click",()=>{document.body.classList.toggle("dark");});document.getElementById("viewAllBtn").addEventListener("click",resetFilters);}
function resetFilters(){currentAgeFilter="all";currentCategoryFilter="all";currentSubjectFilter="all";currentSearchQuery="";document.getElementById("searchInput").value="";document.querySelector("#ageFilter .filter-btn[data-age='all']").classList.add("active");document.querySelectorAll("#ageFilter .filter-btn:not([data-age='all'])").forEach(b=>b.classList.remove("active"));document.getElementById("subjectFilter").value="all";document.querySelectorAll("#filterTabs .tab-btn").forEach(b=>b.classList.remove("active"));document.querySelector("#filterTabs .tab-btn[data-cat='all']").classList.add("active");expandedCategories={};renderSites();}

// ì´ˆê¸°í™”
function init(){renderCategorySections();buildCategoryTabs();setupFilters();renderSites();document.getElementById("loading").style.display="none";Object.keys(getAllCategories()).forEach(category=>{const content=document.getElementById(`${category}-content`);if(content)new Sortable(content,{animation:150,ghostClass:'dragging'});});document.addEventListener('keydown',e=>{if(e.ctrlKey&&e.key==='f'){e.preventDefault();document.getElementById('searchInput').focus();}});}
document.addEventListener("DOMContentLoaded",init);
</script>
</body>
</html>
