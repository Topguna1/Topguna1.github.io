<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ë”± í•„ìš”í•œ ì‚¬ì´íŠ¸ ëª¨ìŒ</title>
<style>
body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;margin:0;padding:20px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;color:#333;transition:all 0.3s ease;}
body.dark{background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%);color:#fff;}
.container{max-width:1200px;margin:0 auto;background:rgba(255,255,255,0.95);border-radius:20px;backdrop-filter:blur(10px);box-shadow:0 20px 40px rgba(0,0,0,0.1);overflow:hidden;}
body.dark .container{background:rgba(26,26,46,0.95);box-shadow:0 20px 40px rgba(0,0,0,0.3);}
.header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:30px;text-align:center;position:relative;overflow:hidden;}
.header h1{margin:0 0 10px 0;font-size:2.5em;font-weight:700;}
.header p{margin:0;opacity:0.9;font-size:1.1em;}
.filters{padding:15px 30px;background:rgba(248,249,250,0.5);display:flex;gap:20px;flex-wrap:wrap;align-items:center;position:sticky;top:0;z-index:10;}
body.dark .filters{background:rgba(45,45,45,0.5);}
.filter-group{display:flex;flex-direction:column;gap:8px;min-width:120px;}
.filter-group label{font-weight:600;font-size:14px;color:#495057;}
body.dark .filter-group label{color:#adb5bd;}
.filter-buttons{display:flex;gap:6px;flex-wrap:wrap;padding:6px;}
.filter-btn{padding:8px 16px;border:2px solid #e9ecef;background:white;border-radius:20px;cursor:pointer;font-size:13px;font-weight:500;white-space:nowrap;transition:0.2s;}
.filter-btn:hover{border-color:#667eea;transform:translateY(-1px);}
.filter-btn.active{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border-color:#667eea;}
button{padding:10px 16px;border:none;border-radius:8px;cursor:pointer;font-weight:600;font-size:14px;display:inline-flex;align-items:center;gap:8px;transition:0.2s;}
button:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,0,0,0.15);}
.dark-toggle{background:linear-gradient(135deg,#343a40 0%,#212529 100%);color:white;margin-bottom:10px;position:sticky;top:10px;z-index:11;}
.categories-container{padding:20px;display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:25px;}
.category-section{background:white;border-radius:15px;overflow:hidden;border:1px solid #e9ecef;transition:all 0.3s ease;box-shadow:0 5px 15px rgba(0,0,0,0.08);}
body.dark .category-section{background:#2d2d2d;border-color:#555;box-shadow:0 5px 15px rgba(0,0,0,0.3);}
.category-header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:20px 25px;font-size:18px;font-weight:700;display:flex;justify-content:space-between;align-items:center;gap:15px;}
.category-content{padding:25px;}
.link-card{border:2px solid #f1f3f5;border-radius:12px;padding:20px;margin:10px 0;background:linear-gradient(135deg,#ffffff 0%,#f8f9fa 100%);transition:all 0.3s ease;}
body.dark .link-card{background:linear-gradient(135deg,#343a40 0%,#495057 100%);border-color:#555;}
.link-card a{text-decoration:none;color:#2c3e50;font-weight:700;font-size:18px;display:inline-block;margin-bottom:8px;}
body.dark .link-card a{color:#f8f9fa;}
.link-meta{display:flex;gap:8px;margin:12px 0;flex-wrap:wrap;}
.tag{padding:4px 10px;border-radius:15px;font-size:11px;font-weight:600;white-space:nowrap;}
.age-tag{background:linear-gradient(135deg,#d4edda 0%,#c3e6cb 100%);color:#155724;}
.category-tag{background:linear-gradient(135deg,#fff3cd 0%,#ffeaa7 100%);color:#856404;}
body.dark .age-tag{background:linear-gradient(135deg,#28a745 0%,#20c997 100%);color:white;}
body.dark .category-tag{background:linear-gradient(135deg,#ffc107 0%,#fd7e14 100%);color:#212529;}
.more-btn-container{text-align:center;margin-top:20px;}
.more-btn{background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%);color:#495057;border:2px solid #dee2e6;padding:10px 20px;border-radius:25px;font-weight:600;transition:0.3s;}
.more-btn:hover{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border-color:#667eea;}
body.dark .more-btn{background:linear-gradient(135deg,#495057 0%,#343a40 100%);color:#f8f9fa;border-color:#555;}
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>ğŸŒŸ ë”±í•„ëª¨</h1>
    <p>ë”± í•„ìš”í•œ ì‚¬ì´íŠ¸ë§Œ ëª¨ìŒ</p>
  </div>

  <div class="filters">
    <div class="filter-group">
      <label>ğŸ¯ ì—°ë ¹ëŒ€:</label>
      <div class="filter-buttons" id="ageFilter">
        <button class="filter-btn active" data-age="all">ì „ì²´</button>
        <button class="filter-btn" data-age="elem">ì´ˆë“±</button>
        <button class="filter-btn" data-age="mid">ì¤‘ë“±</button>
        <button class="filter-btn" data-age="high">ê³ ë“±</button>
        <button class="filter-btn" data-age="adult">ì„±ì¸</button>
      </div>
    </div>
    <div class="filter-group">
      <label>ğŸ“‚ ì¹´í…Œê³ ë¦¬:</label>
      <div class="filter-buttons" id="categoryFilter"></div>
    </div>
    <div class="filter-group">
      <label>ğŸ“š ê³¼ëª©:</label>
      <select id="subjectFilter">
        <option value="all">ì „ì²´ ê³¼ëª©</option>
        <option value="korean">êµ­ì–´</option>
        <option value="math">ìˆ˜í•™</option>
        <option value="english">ì˜ì–´</option>
        <option value="science">ê³¼í•™</option>
        <option value="social">ì‚¬íšŒ</option>
        <option value="history">ì—­ì‚¬</option>
        <option value="art">ì˜ˆìˆ </option>
        <option value="music">ìŒì•…</option>
        <option value="pe">ì²´ìœ¡</option>
        <option value="tech">ê¸°ìˆ </option>
        <option value="coding">ì½”ë”©</option>
        <option value="language">ì™¸êµ­ì–´</option>
        <option value="general">ì¢…í•©</option>
        <option value="exam">ì‹œí—˜ëŒ€ë¹„</option>
        <option value="career">ì§„ë¡œ</option>
      </select>
    </div>
    <div class="filter-group">
      <button onclick="resetFilters()">ğŸ”„ í•„í„° ì´ˆê¸°í™”</button>
    </div>
    <button class="dark-toggle" onclick="toggleDarkMode()">ğŸŒ™ ë‹¤í¬ ëª¨ë“œ</button>
  </div>

  <div class="categories-container" id="categoriesContainer"></div>
</div>

<script>
// ================= ë°ì´í„° =================
const ageNames={elem:"ì´ˆë“±í•™ìƒ",mid:"ì¤‘í•™ìƒ",high:"ê³ ë“±í•™ìƒ",adult:"ì„±ì¸"};
const defaultCategories={learning:{name:"í•™ìŠµ ì‚¬ì´íŠ¸",icon:"ğŸ“–"},info:{name:"ì •ë³´ ì‚¬ì´íŠ¸",icon:"ğŸ“‹"},government:{name:"ì •ë¶€ê¸°ê´€",icon:"ğŸ›ï¸"},search:{name:"ê²€ìƒ‰ ì—”ì§„",icon:"ğŸ”"},gpt:{name:"GPT í™œìš©",icon:"ğŸ¤–"}};
const customCategories={science_lab:{name:"ê³¼í•™ ì‹¤í—˜",icon:"ğŸ§ª"},career_info:{name:"ì§„ë¡œ ì •ë³´",icon:"ğŸ’¼"},psychology:{name:"ì‹¬ë¦¬/ìê¸°ê³„ë°œ",icon:"ğŸ§ "},ebooks:{name:"ë¬´ë£Œ ì „ìì±…",icon:"ğŸ“š"}};
const initialSites=[
{name:"EBS ì´ˆë“±",url:"https://www.ebs.co.kr/course/home?courseType=ELMT",desc:"ì´ˆë“± ì „ ê³¼ëª© ì˜¨ë¼ì¸ ê°•ì˜",category:"learning",ages:["elem"],subjects:["korean","math","science","social"]},
{name:"Khan Academy",url:"https://ko.khanacademy.org/",desc:"ìˆ˜í•™, ê³¼í•™ ë¬´ë£Œ ê°•ì˜",category:"learning",ages:["elem","mid","high","adult"],subjects:["math","science"]},
{name:"Code.org",url:"https://code.org",desc:"ì´ˆë“±~ê³ ë“± ì½”ë”© í•™ìŠµ",category:"learning",ages:["elem","mid","high"],subjects:["coding"]},
{name:"Duolingo",url:"https://www.duolingo.com/",desc:"ì™¸êµ­ì–´ í•™ìŠµ ê²Œì„í˜• í”Œë«í¼",category:"learning",ages:["elem","mid","high","adult"],subjects:["language","english"]},
{name:"Coursera",url:"https://www.coursera.org/",desc:"ì „ ì„¸ê³„ ëŒ€í•™ ë° ê¸°ì—…ì˜ ì˜¨ë¼ì¸ ê°•ì¢Œ",category:"learning",ages:["high","adult"],subjects:["general","language"]},

{name:"ìœ„í‚¤ë°±ê³¼",url:"https://ko.wikipedia.org/",desc:"ììœ  ë°±ê³¼ì‚¬ì „",category:"info",ages:["mid","high","adult"],subjects:["general"]},
{name:"êµ­ë¦½ì¤‘ì•™ê³¼í•™ê´€",url:"https://www.science.go.kr/",desc:"ê³¼í•™ ì²´í—˜ ë° êµìœ¡ ì •ë³´",category:"info",ages:["elem","mid","high"],subjects:["science"]},
{name:"ë‚˜ë¬´ìœ„í‚¤",url:"https://namu.wiki/",desc:"ë‹¤ì–‘í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ëŠ” í•œêµ­ì–´ ìœ„í‚¤",category:"info",ages:["mid","high","adult"],subjects:["general"]},
{name:"êµìœ¡ë¶€",url:"https://www.moe.go.kr/",desc:"ëŒ€í•œë¯¼êµ­ êµìœ¡ë¶€ ê³µì‹ ì‚¬ì´íŠ¸",category:"government",ages:["adult"],subjects:["general"]},
{name:"í•œêµ­êµìœ¡ê³¼ì •í‰ê°€ì›",url:"https://www.kice.re.kr/",desc:"êµìœ¡ê³¼ì • ë° í‰ê°€ ì •ë³´",category:"government",ages:["mid","high","adult"],subjects:["general","exam"]},
{name:"í•œêµ­êµìœ¡í•™ìˆ ì •ë³´ì›",url:"https://www.keris.or.kr/",desc:"êµìœ¡ ì •ë³´í™” ë° í•™ìˆ  ì •ë³´",category:"government",ages:["high","adult"],subjects:["general"]},
{name:"êµ­ë¯¼ì‹ ë¬¸ê³ ",url:"https://www.epeople.go.kr/",desc:"ì •ë¶€ì— ì •ì±… ë° ë¯¼ì›ì„ ì œì•ˆí•˜ëŠ” ì˜¨ë¼ì¸ ì†Œí†µ ì°½êµ¬",category:"government",ages:["adult"],subjects:["general","social"]},
{name:"ë„¤ì´ë²„",url:"https://www.naver.com/",desc:"ëŒ€í•œë¯¼êµ­ ëŒ€í‘œ í¬í„¸ì‚¬ì´íŠ¸",category:"search",ages:["elem","mid","high","adult"],subjects:["general"]},
{name:"êµ¬ê¸€",url:"https://www.google.com/",desc:"ì„¸ê³„ ìµœëŒ€ ê²€ìƒ‰ì—”ì§„",category:"search",ages:["elem","mid","high","adult"],subjects:["general"]},
{name:"DuckDuckGo",url:"https://duckduckgo.com/",desc:"ê°œì¸ì •ë³´ ë³´í˜¸ì— ì¤‘ì ì„ ë‘” ê²€ìƒ‰ ì—”ì§„",category:"search",ages:["mid","high","adult"],subjects:["general"]},
{name:"ChatGPT",url:"https://chat.openai.com/",desc:"OpenAIì—ì„œ ê°œë°œí•œ ëŒ€í™”í˜• ì¸ê³µì§€ëŠ¥ ëª¨ë¸",category:"gpt",ages:["mid","high","adult"],subjects:["general","coding"]},
{name:"Poe by Quora",url:"https://poe.com/",desc:"ë‹¤ì–‘í•œ AI ì±—ë´‡ì„ í•œê³³ì—ì„œ ê²½í—˜í•  ìˆ˜ ìˆëŠ” í”Œë«í¼",category:"gpt",ages:["high","adult"],subjects:["general"]},
{name:"DeepL",url:"https://www.deepl.com/translator",desc:"AI ê¸°ë°˜ì˜ ê³ í’ˆì§ˆ ë²ˆì—­ ì„œë¹„ìŠ¤",category:"gpt",ages:["mid","high","adult"],subjects:["language"]},
{name:"Gamma",url:"https://gamma.app/",desc:"AIë¥¼ í™œìš©í•˜ì—¬ í”„ë ˆì  í…Œì´ì…˜, ë¬¸ì„œë¥¼ ë¹ ë¥´ê²Œ ì œì‘",category:"gpt",ages:["high","adult"],subjects:["tech","art"]},

{name:"Science Kids",url:"https://www.sciencekids.co.nz/",desc:"ì´ˆë“±í•™ìƒì„ ìœ„í•œ ì¬ë¯¸ìˆëŠ” ê³¼í•™ ì‹¤í—˜ê³¼ ìë£Œ",category:"science_lab",ages:["elem"],subjects:["science"]},
{name:"DIY.org",url:"https://www.diy.org/",desc:"ì°½ì˜ë ¥ê³¼ ê³µì˜ˆ í™œë™ì„ ë°°ìš¸ ìˆ˜ ìˆëŠ” í”Œë«í¼",category:"science_lab",ages:["elem","mid"],subjects:["art","tech"]},
{name:"ì»¤ë¦¬ì–´ë„·",url:"https://www.career.go.kr/",desc:"ì§„ë¡œ íƒìƒ‰, ì§ì—… ì •ë³´ ì œê³µ",category:"career_info",ages:["mid","high","adult"],subjects:["career"]},
{name:"Headspace",url:"https://www.headspace.com/",desc:"ëª…ìƒ ë° ë§ˆìŒ ì±™ê¹€ í”„ë¡œê·¸ë¨ ì œê³µ",category:"psychology",ages:["high","adult"],subjects:["general"]},
{name:"MindTools",url:"https://www.mindtools.com/",desc:"ë¦¬ë”ì‹­, ìê¸°ê³„ë°œ ìë£Œ ì œê³µ",category:"psychology",ages:["adult"],subjects:["general"]},
{name:"Project Gutenberg",url:"https://www.gutenberg.org/",desc:"ë¬´ë£Œ ì „ìì±… ì œê³µ ì‚¬ì´íŠ¸",category:"ebooks",ages:["mid","high","adult"],subjects:["general","language"]},
{name:"Open Library",url:"https://openlibrary.org/",desc:"ë‹¤ì–‘í•œ ì±…ì„ ì˜¨ë¼ì¸ìœ¼ë¡œ ë¬´ë£Œ ì—´ëŒ",category:"ebooks",ages:["mid","high","adult"],subjects:["general","language"]}
];

// ================= ì „ì—­ =================
let sites=[...initialSites];
let categoryCurrentDisplay={};
let currentAgeFilter="all";
let currentCategoryFilter="all";
let currentSubjectFilter="all";
let categoryDisplayLimits={};

// ================= í•¨ìˆ˜ =================
function getAllCategories(){ return {...defaultCategories,...customCategories}; }
function getCategoryName(key){ const all=getAllCategories(); return all[key]?all[key].name:key; }
function getCategoryIcon(key){ const all=getAllCategories(); return all[key]?all[key].icon:"ğŸ“"; }

function createCategorySection(categoryKey){
  const cat=getAllCategories()[categoryKey]; if(!cat) return null;
  const section=document.createElement("div"); section.className="category-section"; section.id=`${categoryKey}-section`;
  section.innerHTML=`<div class="category-header"><div><span>${cat.icon}</span> ${cat.name}</div><div class="category-count" id="${categoryKey}-count">0</div></div><div class="category-content" id="${categoryKey}-content"></div>`;
  return section;
}

function createSiteCard(site){
  const ageTags=site.ages.map(a=>`<span class="tag age-tag">${ageNames[a]}</span>`).join(" ");
  const categoryTag=`<span class="tag category-tag">${getCategoryName(site.category)}</span>`;
  const card=document.createElement("div"); card.className="link-card";
  card.innerHTML=`<a href="${site.url}" target="_blank">${site.name}</a><div class="link-meta">${categoryTag} ${ageTags}</div><p>${site.desc}</p>`;
  return card;
}

function renderCategorySections(){
  const container=document.getElementById("categoriesContainer"); container.innerHTML="";
  Object.keys(getAllCategories()).forEach(cat=>{
    const sec=createCategorySection(cat); if(sec) container.appendChild(sec);
  });
}

function getFilteredSites(){
  return sites.filter(s=>
    (currentAgeFilter==="all"||s.ages.includes(currentAgeFilter))&&
    (currentCategoryFilter==="all"||s.category===currentCategoryFilter)&&
    (currentSubjectFilter==="all"||s.subjects.includes(currentSubjectFilter))
  );
}

function renderSites(){
  const allKeys=Object.keys(getAllCategories()); 
  const filtered=getFilteredSites();
  allKeys.forEach(cat=>{
    const container=document.getElementById(`${cat}-content`); 
    const section=document.getElementById(`${cat}-section`);
    const countElement=document.getElementById(`${cat}-count`);
    if(!container||!section) return;
    const sitesInCat=filtered.filter(s=>s.category===cat); container.innerHTML="";
    if(countElement) countElement.textContent=sitesInCat.length;
    if(sitesInCat.length>0){
      section.style.display="block";
      if(!categoryCurrentDisplay[cat]||categoryCurrentDisplay[cat]>sitesInCat.length) categoryCurrentDisplay[cat]=Math.min(3,sitesInCat.length);
      const sitesToShow=sitesInCat.slice(0,categoryCurrentDisplay[cat]);
      sitesToShow.forEach(s=>container.appendChild(createSiteCard(s)));
      if(categoryCurrentDisplay[cat]<sitesInCat.length){
        const btnContainer=document.createElement("div"); btnContainer.className="more-btn-container";
        btnContainer.innerHTML=`<button class="more-btn" onclick="expandSites('${cat}')">5ê°œ ë” ë³´ê¸° â†“</button>`;
        container.appendChild(btnContainer);
      }
    }else section.style.display="none";
  });
}

function expandSites(cat){
  const allFiltered=getFilteredSites().filter(s=>s.category===cat);
  if(!categoryCurrentDisplay[cat]) categoryCurrentDisplay[cat]=0;
  categoryCurrentDisplay[cat]+=5;
  if(categoryCurrentDisplay[cat]>allFiltered.length) categoryCurrentDisplay[cat]=allFiltered.length;
  renderSites();
  // ì²« ë”ë³´ê¸° ì´í›„, ë‘ ë²ˆì§¸ í´ë¦­ë¶€í„°ëŠ” ë‹¤ë¥¸ ì¹´í…Œê³ ë¦¬ëŠ” ì ‘ê¸°
  if(categoryCurrentDisplay[cat]>3){
    Object.keys(getAllCategories()).forEach(c=>{
      const sec=document.getElementById(`${c}-section`);
      if(sec) sec.style.display=(c===cat)?"block":"none";
    });
  }
}

function setupFilters(){
  document.querySelectorAll("#ageFilter .filter-btn").forEach(btn=>btn.addEventListener("click",e=>{
    document.querySelector("#ageFilter .active").classList.remove("active");
    e.target.classList.add("active");
    currentAgeFilter=e.target.dataset.age;
    categoryCurrentDisplay={}; renderSites();
  }));

  const catFilter=document.getElementById("categoryFilter"); catFilter.innerHTML="";
  Object.entries(getAllCategories()).forEach(([key,val])=>{
    const btn=document.createElement("button"); btn.className="filter-btn"; btn.dataset.category=key; btn.textContent=val.name;
    btn.addEventListener("click",e=>{catFilter.querySelector(".active")?.classList.remove("active"); e.target.classList.add("active"); currentCategoryFilter=e.target.dataset.category; categoryCurrentDisplay={}; renderSites();});
    catFilter.appendChild(btn);
  });

  document.getElementById("subjectFilter").addEventListener("change",e=>{currentSubjectFilter=e.target.value; categoryCurrentDisplay={}; renderSites();});
}

function resetFilters(){ currentAgeFilter="all"; currentCategoryFilter="all"; currentSubjectFilter="all"; document.querySelector("#ageFilter .filter-btn[data-age='all']").click(); document.querySelector("#categoryFilter .filter-btn").click(); document.getElementById("subjectFilter").value="all"; categoryCurrentDisplay={}; renderSites();}
function toggleDarkMode(){ document.body.classList.toggle("dark"); }

document.addEventListener("DOMContentLoaded",()=>{
  renderCategorySections();
  setupFilters();
  renderSites();
});
</script>
</body>
</html>
